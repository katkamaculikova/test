o = [1, 3, 4, 5, 6, 12, 13, 15]

#s=o.inspect
#o.map{|v|s.sub!(/#{v}.?, #{v+1}/,'[\&]')}
#p eval(s.gsub(/\[-?\d+\], /,''))

o = [1, 3, 4, 5, 6, 12, 13, 15]
#o = [2, 4, 13, 42]

$_=o*','
o.map{|v|sub(/.*\d$|#{v-1}(.)?,(#{v})\b/){$1?$2+$1:"[#$&]"}}
p eval$_

#o.map{|v|sub(/#{v-1}(.)?,#{v}|^\d.*/){$1?"#{v}]":"[#$&]"}}

#o.map{|v|sub /#{v}.?,#{v+1}/,'[\&]'}
#p eval"[#{gsub /\[-?\d+\],/,''}]"


#p eval('['+gsub(/\[-?\d+\],/,'')+']')


#o.inject([]){|r,a|(t=r[-1])?t==a-1?:t[-1]==a-1?:[a]}

# x=o.zip(o)
# p x.zip(x[1..-1]).map{|a,b|a[1]+1==(b ?b[0]:o[-1])?[a[0],b[1]]:a}
# p x.zip(x[1..-1]).map{|a,b|a[1]+1==(b ?b[0]:o[-1])?[a[0],b[1]]:a}
# p x.zip(x[1..-1]).map{|a,b|a[1]+1==(b ?b[0]:o[-1])?[a[0],b[1]]:a}
#a.size.times{a=a.zip(a[1..-1]).map{|a,b|a[0]+1==b[0]?[a[0],b[-1]]:a};p a}

#p [*a[0]..a[-1]]-a
#p a.zip(*(1..a.size).map{|i|a[i..-1]})
